Refactored `setChatState` and `setHasStarted` from from prototyper.jsx
